<!DOCTYPE html>
<html>
    <head>
        <title>Header Editor - Vanilla Javascript</title>
        
        <style>
            body {
                text-align: justify;
                font-family: verdana;
            }
            
            article{
                max-width: 800px;
            }
            
            .byline {
                font-style: italic;
                font-size: 0.8em;
            }
        </style>
    </head>
    
    <body>
        <section>
            <article>
                <h1 id="header-display">
                    <span id="header-content">Lorem Ipsum</span> 
                    <button type="button" id="header-edit-button">Edit</button>
                </h1>
                <h1 id="header-edit" style="display:none">
                    <input id="header-input" />
                    <button type="button" id="header-save-button">Done</button>
                </h1>
                
                <div class="byline">Posted by 
                    <a class="author" href="https://mycompany.com/monvoisinc">Catherine Monvoisin</a>
                    on <time datetime="2015-10-31 20:00">Saturday at 8pm</time>
                 </div>
                
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed 
                   do eiusmod tempor incididunt ut labore et dolore magna 
                   aliqua. Ut enim ad minim veniam, quis nostrud exercitation 
                   ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis 
                   aute irure dolor in reprehenderit in voluptate velit esse 
                   cillum dolore eu fugiat nulla pariatur. Excepteur sint 
                   occaecat cupidatat non proident, sunt in culpa qui officia 
                   deserunt mollit anim id est laborum.</p>
                   
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed 
                   do eiusmod tempor incididunt ut labore et dolore magna 
                   aliqua. Ut enim ad minim veniam, quis nostrud exercitation 
                   ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis 
                   aute irure dolor in reprehenderit in voluptate velit esse 
                   cillum dolore eu fugiat nulla pariatur. Excepteur sint 
                   occaecat cupidatat non proident, sunt in culpa qui officia 
                   deserunt mollit anim id est laborum.</p>
                   
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed 
                   do eiusmod tempor incididunt ut labore et dolore magna 
                   aliqua. Ut enim ad minim veniam, quis nostrud exercitation 
                   ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis 
                   aute irure dolor in reprehenderit in voluptate velit esse 
                   cillum dolore eu fugiat nulla pariatur. Excepteur sint 
                   occaecat cupidatat non proident, sunt in culpa qui officia 
                   deserunt mollit anim id est laborum.</p>
                   
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed 
                   do eiusmod tempor incididunt ut labore et dolore magna 
                   aliqua. Ut enim ad minim veniam, quis nostrud exercitation 
                   ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis 
                   aute irure dolor in reprehenderit in voluptate velit esse 
                   cillum dolore eu fugiat nulla pariatur. Excepteur sint 
                   occaecat cupidatat non proident, sunt in culpa qui officia 
                   deserunt mollit anim id est laborum.</p>
            </article>
        </section>
        
        <script>
            //anonymous function to bootstrap everything
            (function() {
                    
                //the <h1> element wrapping the header text and edit button
                function getHeaderDisplay() {
                    return document.getElementById("header-display");
                }
                
                //the <span> containing the header text
                function getHeaderContent() {
                    return document.getElementById("header-content");
                }
                
                //the button clicked to switch into edit more
                function getEditHeaderButton() {
                    return document.getElementById("header-edit-button");
                }
                
                //the <h1> elements contianing the text input and save button
                function getHeaderEdit() {
                    return document.getElementById("header-edit");
                }
                
                //the <input> used to used the header text
                function getHeaderInput() {
                    return document.getElementById("header-input");
                }
                
                //the button clicked to save changes
                function getSaveHeaderButton() {
                    return document.getElementById("header-save-button");
                }
                
                //copies the contents of the display blocl into the input, hides 
                //the display block, and shows the edit block
                function editMode() {
                    var headerText = getHeaderContent().innerHTML;
                    var headerInput = getHeaderInput();
                    headerInput.value = headerText;
                    
                    getHeaderDisplay().style.display = "none";
                    getHeaderEdit().style.display = "";
                }
                
                //copies the value of the <input> into the display block,
                //hides the edit block, and shows the display block
                function displayMode() {
                    var headerText = getHeaderInput().value;
                    var headerContent = getHeaderContent();
                    headerContent.innerHTML = headerText;
                    
                    getHeaderDisplay().style.display = "";
                    getHeaderEdit().style.display = "none";
                }
                
                //detects the return key being pressed inside of the <input>
                //and calls the same method as clicking the save button
                function inputChanged(e) {
                    if( !e ){
                        e = window.event;
                    }
                    
                    var keyCode = e.keyCode || e.which;
                    if (keyCode == '13'){
                        // Enter pressed
                        displayMode();
                        return false;
                    }
                }
                
                getEditHeaderButton().onclick = editMode;
                getSaveHeaderButton().onclick = displayMode;
                getHeaderInput().onkeypress = inputChanged;
            })();//executing the anonymous function
        </script>
    </body>
</html>